<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE database SYSTEM "http://dbflute.org/meta/database.dtd">
<!-- Auto-generated by JDBC task! -->
<database name="">
    <table comment="アカウントテーブル : アカウントを管理するテーブル" name="ACCOUNTS"
        schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="アカウントID : アカウントのid"
            dbType="BIGINT UNSIGNED" javaType="Long" name="ID"
            pkName="PRIMARY" pkPosition="1" primaryKey="true"
            required="true" size="20" type="BIGINT"/>
        <column comment="アカウント名 : アカウント名" dbType="VARCHAR"
            javaType="String" name="NAME" required="true" size="30" type="VARCHAR"/>
        <column comment="ディスプレイID : @の後に続くアカウントのid&#xa;検索等に使われる"
            dbType="VARCHAR" javaType="String" name="DISPLAY_ID"
            required="true" size="255" type="VARCHAR"/>
        <column comment="ウェブサイトURL : ウロフィールに載せるwebのurl" dbType="TEXT"
            javaType="String" name="WEB_SITE_URL" size="65535" type="LONGVARCHAR"/>
        <column comment="プロフィール文 : プロフィールに載せる文章" dbType="TEXT"
            javaType="String" name="DESCRIPTION" size="65535" type="LONGVARCHAR"/>
        <column comment="アイコンURL : ユーザのアイコンのパス" dbType="TEXT"
            javaType="String" name="ICON_PATH" required="true"
            size="65535" type="LONGVARCHAR"/>
        <column comment="作成された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <unique name="UQ_ACCOUNTS_DISPLAY_ID">
            <unique-column name="DISPLAY_ID" position="1"/>
        </unique>
    </table>
    <table comment="TWIEETS : ツイートを管理するテーブル" name="TWEETS"
        schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="" dbType="BIGINT UNSIGNED"
            javaType="Long" name="ID" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="20" type="BIGINT"/>
        <column comment=" : ツイートの文章" dbType="TEXT" javaType="String"
            name="BODY" required="true" size="65535" type="LONGVARCHAR"/>
        <column comment=" : ツイートしたデバイスのタイプ" dbType="INT UNSIGNED"
            javaType="Integer" name="DEVICE_TYPE" required="true"
            size="10" type="INTEGER"/>
        <column comment="作成日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
    </table>
    <table
        comment="TWEET_IMAGES : ツイートに対して投稿された画像のパスを紐づけるテーブル&#xa;seqでシーケンス番号(順番)を管理している"
        name="TWEET_IMAGES" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="" dbType="BIGINT"
            javaType="Long" name="ID" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="19" type="BIGINT"/>
        <column comment=" : 画像が紐づくツイートのid" dbType="BIGINT UNSIGNED"
            javaType="Long" name="TWEET_ID" required="true" size="20" type="BIGINT"/>
        <column comment=" : ツイートに紐づく画像のurl" dbType="TEXT"
            javaType="String" name="IMAGE_PATH" required="true"
            size="65535" type="LONGVARCHAR"/>
        <column comment=" : ツイートに載せる画像の順番" dbType="INT"
            javaType="Integer" name="SEQ" required="true" size="10" type="INTEGER"/>
        <column comment="作成日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="TWEETS" name="FK_TWEET_IMAGES_TWIEETS">
            <reference foreign="ID" local="TWEET_ID"/>
        </foreign-key>
        <index name="FK_TWEET_IMAGES_TWIEETS">
            <index-column name="TWEET_ID" position="1"/>
        </index>
    </table>
    <table comment="NEW_TABLE : ユーザがどのツイートにいいねしたかを管理するテーブル"
        name="TWEET_LIKES" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="" dbType="BIGINT UNSIGNED"
            javaType="Long" name="ID" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="20" type="BIGINT"/>
        <column comment=" : いいねされたツイートのid" dbType="BIGINT UNSIGNED"
            javaType="Long" name="TWEET_ID" required="true" size="20" type="BIGINT"/>
        <column comment="ユーザID : ツイートにいいねしたユーザのid"
            dbType="BIGINT UNSIGNED" javaType="Long"
            name="LIKED_USER_ID" required="true" size="20" type="BIGINT"/>
        <column comment="作成日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_TWEET_LIKES_USERS">
            <reference foreign="ID" local="LIKED_USER_ID"/>
        </foreign-key>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="TWEETS" name="FK_TWEET_LIKES_TWIEETS">
            <reference foreign="ID" local="TWEET_ID"/>
        </foreign-key>
        <unique name="UQ_TWEET_LIKES_TWEET_ID_LIKED_USER_ID">
            <unique-column name="TWEET_ID" position="1"/>
            <unique-column name="LIKED_USER_ID" position="2"/>
        </unique>
        <index name="FK_TWEET_LIKES_USERS">
            <index-column name="LIKED_USER_ID" position="1"/>
        </index>
    </table>
    <table
        comment="TWEET_REPLIES : ユーザがどのツイート・リツイート・リプに対して返信をしたか管理するテーブル&#xa;typeとreply_parent_idで返信先が決まる&#xa;reply_parent_idのdescに例がある"
        name="TWEET_REPLIES" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="" dbType="BIGINT UNSIGNED"
            javaType="Long" name="ID" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="20" type="BIGINT"/>
        <column comment="ユーザID : ツイートに返信したユーザのid"
            dbType="BIGINT UNSIGNED" javaType="Long"
            name="REPLY_USER_ID" required="true" size="20" type="BIGINT"/>
        <column comment=" : 返信の順番" dbType="INT UNSIGNED"
            javaType="Integer" name="SEQ" required="true" size="10" type="INTEGER"/>
        <column
            comment=" : 返信したツイートのid&#xa;typeと連動している&#xa;例 : &#xa;type : 1、reply_parent_id  : 1&#xa;tweet_id 1のスレッドに対して返信&#xa;&#xa;type : 2、reply_parent_id  : 1&#xa;retweet_id 1 のスレッドに対しての返信&#xa;&#xa;type : 3、reply_parent_id  : 1&#xa;replies_id 1にたいしての返信&#xa;返信に対しての返信"
            dbType="INT UNSIGNED" javaType="Integer"
            name="REPLY_PARENT_ID" required="true" size="10" type="INTEGER"/>
        <column
            comment=" : 返信したスレッドのタイプ&#xa;1 → tweet thread&#xa;2 → retweet thread&#xa;3 → reply thread"
            dbType="INT UNSIGNED" javaType="Integer" name="TYPE"
            required="true" size="10" type="INTEGER"/>
        <column comment="" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_TWEET_REPLIES_USERS">
            <reference foreign="ID" local="REPLY_USER_ID"/>
        </foreign-key>
        <index name="FK_TWEET_REPLIES_USERS">
            <index-column name="REPLY_USER_ID" position="1"/>
        </index>
    </table>
    <table comment="ユーザテーブル : ユーザを管理するテーブル" name="USERS"
        schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="ユーザID : ユーザのid&#xa;"
            dbType="BIGINT UNSIGNED" javaType="Long" name="ID"
            pkName="PRIMARY" pkPosition="1" primaryKey="true"
            required="true" size="20" type="BIGINT"/>
        <column comment="メールアドレス : ユーザのメールアドレス" dbType="VARCHAR"
            javaType="String" name="EMAIL" required="true" size="255" type="VARCHAR"/>
        <column comment="パスワード : ユーザのパスワード" dbType="TEXT"
            javaType="String" name="PASSWORD" required="true"
            size="65535" type="LONGVARCHAR"/>
        <column comment="トークン : ユーザのトークン" dbType="TEXT"
            javaType="String" name="TOKEN" required="true" size="65535" type="LONGVARCHAR"/>
        <column comment="作成された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
    </table>
    <table comment="ユーザとアカウント関連テーブル : ユーザとアカウントの関連テーブル"
        name="USER_ACCOUNTS" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="アカウントID : アカウントのid&#xa;"
            dbType="BIGINT" javaType="Long" name="ID" pkName="PRIMARY"
            pkPosition="1" primaryKey="true" required="true" size="19" type="BIGINT"/>
        <column comment="ユーザID : アカウントを所有しているユーザのid"
            dbType="BIGINT UNSIGNED" javaType="Long" name="USER_ID"
            required="true" size="20" type="BIGINT"/>
        <column comment="所持アカウントID : ユーザの所有しているアカウントid"
            dbType="BIGINT UNSIGNED" javaType="Long" name="ACCOUNT_ID"
            required="true" size="20" type="BIGINT"/>
        <column comment="更新された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATE_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="作成された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATE_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="直前サインイン時間 : アカウントのログインした時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="SIGNED_IN_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="ACCOUNTS" name="FK_USER_ACCOUNTS_ACCOUNTS">
            <reference foreign="ID" local="ACCOUNT_ID"/>
        </foreign-key>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_USER_ACCOUNTS_USERS">
            <reference foreign="ID" local="USER_ID"/>
        </foreign-key>
        <index name="FK_USER_ACCOUNTS_ACCOUNTS">
            <index-column name="ACCOUNT_ID" position="1"/>
        </index>
        <index name="FK_USER_ACCOUNTS_USERS">
            <index-column name="USER_ID" position="1"/>
        </index>
    </table>
    <table comment="フォロー関係テーブル : フォローフォロワー関係を管理するテーブル"
        name="USER_FOLLOWS" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="フォローフォロワー関係のID"
            dbType="BIGINT" javaType="Long" name="ID" pkName="PRIMARY"
            pkPosition="1" primaryKey="true" required="true" size="19" type="BIGINT"/>
        <column comment="被フォローユーザID : フォローしたユーザのID"
            dbType="BIGINT UNSIGNED" javaType="Long" name="USER_ID"
            required="true" size="20" type="BIGINT"/>
        <column comment="フォローユーザID : フォローされたユーザのid"
            dbType="BIGINT UNSIGNED" javaType="Long"
            name="FOLLOWING_USER_ID" required="true" size="20" type="BIGINT"/>
        <column comment="作成された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新された時間" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_USER_FOLLOWS_USERS_FOLLOWING">
            <reference foreign="ID" local="FOLLOWING_USER_ID"/>
        </foreign-key>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_USER_FOLLOWS_USERS">
            <reference foreign="ID" local="USER_ID"/>
        </foreign-key>
        <index name="FK_USER_FOLLOWS_USERS">
            <index-column name="USER_ID" position="1"/>
        </index>
        <index name="FK_USER_FOLLOWS_USERS_FOLLOWING">
            <index-column name="FOLLOWING_USER_ID" position="1"/>
        </index>
    </table>
    <table comment="USER_RETWEETS : ユーザがどのツイートに対してリツイートをしたのかを管理するテーブル"
        name="USER_RETWEETS" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment=" : ユーザのid&#xa;"
            dbType="BIGINT UNSIGNED" javaType="Long" name="ID"
            pkName="PRIMARY" pkPosition="1" primaryKey="true"
            required="true" size="20" type="BIGINT"/>
        <column comment="ユーザID : リツイートしたユーザのid" dbType="BIGINT UNSIGNED"
            javaType="Long" name="USER_ID" required="true" size="20" type="BIGINT"/>
        <column comment=" : リツイートしたtweet_id" dbType="BIGINT UNSIGNED"
            javaType="Long" name="TWEET_ID" required="true" size="20" type="BIGINT"/>
        <column comment=" : リツイートする際の文章" dbType="TEXT" javaType="String"
            name="BODY" size="65535" type="LONGVARCHAR"/>
        <column comment="作成日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="更新日" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="TWEETS" name="FK_USER_RETWEET_TWIEETS">
            <reference foreign="ID" local="TWEET_ID"/>
        </foreign-key>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_USER_RETWEET_USERS">
            <reference foreign="ID" local="USER_ID"/>
        </foreign-key>
        <unique name="UQ_USER_RETWEET_USER_ID_RETWEET_ID">
            <unique-column name="USER_ID" position="1"/>
            <unique-column name="TWEET_ID" position="2"/>
        </unique>
        <index name="FK_USER_RETWEET_TWIEETS">
            <index-column name="TWEET_ID" position="1"/>
        </index>
    </table>
    <table
        comment="USER_TWEETS : どのユーザがどのツイートをしたのかを管理するテーブル&#xa;USERとTWEETSの中間テーブル"
        name="USER_TWEETS" schema="twitterdb.$$NoNameSchema$$" type="TABLE">
        <column autoIncrement="true" comment="" dbType="BIGINT UNSIGNED"
            javaType="Long" name="ID" pkName="PRIMARY" pkPosition="1"
            primaryKey="true" required="true" size="20" type="BIGINT"/>
        <column comment="ユーザID : ツイートしたユーザのid" dbType="BIGINT UNSIGNED"
            javaType="Long" name="USER_ID" required="true" size="20" type="BIGINT"/>
        <column comment=" : ユーザがツイートした時のid" dbType="BIGINT UNSIGNED"
            javaType="Long" name="TWEET_ID" required="true" size="20" type="BIGINT"/>
        <column comment="" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="UPDATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <column comment="" dbType="DATETIME"
            javaType="java.time.LocalDateTime" name="CREATED_AT"
            required="true" size="19" type="TIMESTAMP"/>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="TWEETS" name="FK_USER_TWEETS_TWIEETS">
            <reference foreign="ID" local="TWEET_ID"/>
        </foreign-key>
        <foreign-key foreignSchema="twitterdb.$$NoNameSchema$$"
            foreignTable="USERS" name="FK_USER_TWEETS_USERS">
            <reference foreign="ID" local="USER_ID"/>
        </foreign-key>
        <unique name="UQ_USER_TWEETS_USER_ID_TWEET_ID">
            <unique-column name="USER_ID" position="1"/>
            <unique-column name="TWEET_ID" position="2"/>
        </unique>
        <index name="FK_USER_TWEETS_TWIEETS">
            <index-column name="TWEET_ID" position="1"/>
        </index>
    </table>
</database>
